{"ast":null,"code":"import LayoutBasic from\"../layouts/LayoutBasic\";import'./Products.scss';import React,{useState,useEffect}from'react';import TableProducts from\"../components/TableProduct\";import Pagination from\"../components/Paginacion\";import{listarCategorias}from\"../api/categoria\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const products=[{id:1,name:'Leche tarro azul',brand:'Gloria'},{id:2,name:'Pan de Molde mediano',brand:'Bimbo'},{id:3,name:'Coca Cola 500mL',brand:'Coca Cola'},{id:4,name:'Agua 500 mL',brand:'San Luis'},{id:5,name:'Papel Higiénico 6 rollos',brand:'Suave'},{id:6,name:'Arroz a granel',brand:'Paisana'},{id:7,name:'Lentejas a granel',brand:'Otro'},{id:8,name:'Papa por kilo',brand:'Otro'},{id:9,name:'Leche tarro azul',brand:'Gloria'},{id:10,name:'Pan de Molde mediano',brand:'Bimbo'},{id:11,name:'Coca Cola 500mL',brand:'Coca Cola'},{id:12,name:'Agua 500 mL',brand:'San Luis'},{id:13,name:'Papel Higiénico 6 rollos',brand:'Suave'},{id:14,name:'Arroz a granel',brand:'Paisana'},{id:15,name:'Lentejas a granel',brand:'Otro'},{id:16,name:'Papa por kilo',brand:'Otro'}];const PRODUCTS_PER_PAGE=8;export default function Products(){// Estados para la paginación\nconst[currentPage,setCurrentPage]=useState(1);const totalPages=Math.ceil(products.length/PRODUCTS_PER_PAGE);// Cambiar página\nconst handlePageChange=newPage=>{setCurrentPage(newPage);};// Calcular el rango de productos para la página actual\nconst indexOfLastProduct=currentPage*PRODUCTS_PER_PAGE;const indexOfFirstProduct=indexOfLastProduct-PRODUCTS_PER_PAGE;const currentProducts=products.slice(indexOfFirstProduct,indexOfLastProduct);const[categorias,setCategorias]=useState([]);useEffect(()=>{listarCategorias().then(data=>{if(data&&!data.errMsg){console.log(\"Categorías establecidas en el estado:\",data);setCategorias(data);// Asegúrate de que la API responde con un array directamente\n}else{// Manejar la situación de error o datos vacíos\nconsole.error(data.errMsg||\"Error al cargar categorías\");}});},[]);return/*#__PURE__*/_jsx(LayoutBasic,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Inventario - Productos\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-merchandise-btn\",children:\"A\\xF1adir mercader\\xEDa\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-item\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccione la categor\\xEDa\"}),categorias.map(categoria=>/*#__PURE__*/_jsx(\"option\",{value:categoria.nombre,children:categoria.nombre},categoria.idCategoria))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-item\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"brand\",children:\"Marca\"}),/*#__PURE__*/_jsx(\"select\",{id:\"brand\",name:\"brand\",children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccione la marca\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-item\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-item checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"lowStock\",name:\"lowStock\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lowStock\",children:\"Stock bajo\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"search-btn\",children:\"Buscar\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products-table\",children:/*#__PURE__*/_jsx(TableProducts,{products:currentProducts})}),/*#__PURE__*/_jsx(\"div\",{className:\"products-pagination\",children:/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:handlePageChange})})]})});}","map":{"version":3,"names":["LayoutBasic","React","useState","useEffect","TableProducts","Pagination","listarCategorias","jsx","_jsx","jsxs","_jsxs","products","id","name","brand","PRODUCTS_PER_PAGE","Products","currentPage","setCurrentPage","totalPages","Math","ceil","length","handlePageChange","newPage","indexOfLastProduct","indexOfFirstProduct","currentProducts","slice","categorias","setCategorias","then","data","errMsg","console","log","error","children","className","htmlFor","value","map","categoria","nombre","idCategoria","type","onPageChange"],"sources":["C:/Users/chris/Documents/Proyecto/mi-aplicacion/src/pages/Products.js"],"sourcesContent":["import LayoutBasic from \"../layouts/LayoutBasic\";\r\nimport './Products.scss';\r\nimport React, { useState,useEffect  } from 'react';\r\nimport TableProducts from \"../components/TableProduct\";\r\nimport Pagination from \"../components/Paginacion\";\r\nimport { listarCategorias } from \"../api/categoria\";\r\nconst products = [\r\n    { id: 1, name: 'Leche tarro azul', brand: 'Gloria' },\r\n    { id: 2, name: 'Pan de Molde mediano', brand: 'Bimbo' },\r\n    { id: 3, name: 'Coca Cola 500mL', brand: 'Coca Cola' },\r\n    { id: 4, name: 'Agua 500 mL', brand: 'San Luis' },\r\n    { id: 5, name: 'Papel Higiénico 6 rollos', brand: 'Suave' },\r\n    { id: 6, name: 'Arroz a granel', brand: 'Paisana' },\r\n    { id: 7, name: 'Lentejas a granel', brand: 'Otro' },\r\n    { id: 8, name: 'Papa por kilo', brand: 'Otro' },\r\n    { id: 9, name: 'Leche tarro azul', brand: 'Gloria' },\r\n    { id: 10, name: 'Pan de Molde mediano', brand: 'Bimbo' },\r\n    { id: 11, name: 'Coca Cola 500mL', brand: 'Coca Cola' },\r\n    { id: 12, name: 'Agua 500 mL', brand: 'San Luis' },\r\n    { id: 13, name: 'Papel Higiénico 6 rollos', brand: 'Suave' },\r\n    { id: 14, name: 'Arroz a granel', brand: 'Paisana' },\r\n    { id: 15, name: 'Lentejas a granel', brand: 'Otro' },\r\n    { id: 16, name: 'Papa por kilo', brand: 'Otro' }\r\n];\r\n\r\nconst PRODUCTS_PER_PAGE = 8;\r\nexport default function Products() {\r\n     // Estados para la paginación\r\n     const [currentPage, setCurrentPage] = useState(1);\r\n     const totalPages = Math.ceil(products.length / PRODUCTS_PER_PAGE);\r\n \r\n     // Cambiar página\r\n     const handlePageChange = (newPage) => {\r\n         setCurrentPage(newPage);\r\n     };\r\n \r\n     // Calcular el rango de productos para la página actual\r\n     const indexOfLastProduct = currentPage * PRODUCTS_PER_PAGE;\r\n     const indexOfFirstProduct = indexOfLastProduct - PRODUCTS_PER_PAGE;\r\n     const currentProducts = products.slice(indexOfFirstProduct, indexOfLastProduct);\r\n \r\n     const [categorias, setCategorias] = useState([]);\r\n\r\n     useEffect(() => {\r\n         listarCategorias().then(data => {\r\n             if (data && !data.errMsg) {\r\n                console.log(\"Categorías establecidas en el estado:\", data);\r\n                 setCategorias(data); // Asegúrate de que la API responde con un array directamente\r\n             } else {\r\n                 // Manejar la situación de error o datos vacíos\r\n                 console.error(data.errMsg || \"Error al cargar categorías\");\r\n             }\r\n         });\r\n     }, []);\r\n     \r\n    return (\r\n        <LayoutBasic>\r\n            <div className=\"products-container\">\r\n                <div className=\"products-header\">\r\n                    <h1>Inventario - Productos</h1>\r\n                    <button className=\"add-merchandise-btn\">Añadir mercadería</button>\r\n                </div>\r\n                <div className=\"products-filters\">\r\n                    <div className=\"filter-item\">\r\n                        <label htmlFor=\"category\">Categoría</label>\r\n                        <select id=\"category\" name=\"category\">\r\n                            <option value=\"\">Seleccione la categoría</option>\r\n                            {categorias.map((categoria) => (\r\n                                <option key={categoria.idCategoria} value={categoria.nombre}>\r\n                                    {categoria.nombre}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"filter-item\">\r\n                        <label htmlFor=\"brand\">Marca</label>\r\n                        <select id=\"brand\" name=\"brand\">\r\n                            <option value=\"\">Seleccione la marca</option>\r\n                            {/* Opciones de marca aquí */}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"filter-item\">\r\n                        <label htmlFor=\"name\">Nombre</label>\r\n                        <input type=\"text\" id=\"name\" name=\"name\" />\r\n                    </div>\r\n                    <div className=\"filter-item checkbox\">\r\n                        <input type=\"checkbox\" id=\"lowStock\" name=\"lowStock\" />\r\n                        <label htmlFor=\"lowStock\">Stock bajo</label>\r\n                    </div>\r\n                    <button className=\"search-btn\">Buscar</button>\r\n                </div>\r\n                <div className=\"products-table\">\r\n                    <TableProducts products = {currentProducts}/>\r\n                </div>\r\n                <div className=\"products-pagination\">\r\n                    <Pagination \r\n                    currentPage={currentPage} \r\n                    totalPages={totalPages} \r\n                    onPageChange={handlePageChange} \r\n                     />\r\n                </div>\r\n            </div>\r\n        </LayoutBasic>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}